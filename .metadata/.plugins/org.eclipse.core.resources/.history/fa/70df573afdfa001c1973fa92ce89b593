package com.skillstorm;

import java.io.IOException;
import java.io.InputStream;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.util.Properties;


/**
 * @author phili
 * will take input from user to query database and return
 * info about their expense reimbursement status
 */
public class Expense {
	public static void main(String[] args) throws SQLException{
		//establish the connection
		//we cant instantiate a connection because its an interface 
		//so we use driver managers static method
		Connection conn;
		
		String url = "";
		
		String username = "";
		
		String password = "";
		
		//were going to need to load these values from a properties file using classloader
		
		Properties props = new Properties();
		
		InputStream in = ClassLoader.getSystemResourceAsStream("application.properties");
		
		try {
			props.load(in);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
		url = props.getProperty("database.url");
		username = props.getProperty("database.username");
		password = props.getProperty("database.password");
		
		//connect to the database
		conn = DriverManager.getConnection(url, username, password);
		
		if(!conn.isClosed()) 
		{
			System.out.println("Were in!");
		}
		
		conn.close();
		System.out.println("Now were out");
		//create a sql statement
	}
}
